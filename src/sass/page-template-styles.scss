// The most broadly used CSS Custom Properties for quick theming.
// Uncomment to use and reference engrid-scrips SASS files for more CSS Custom Properties.
// All CSS Custom Properties should be scoped to the theme using CSS Data Attributes.
[data-engrid-theme="npca"] {
  --color-green: #06734e;
  --color-light-green: #e2e98b;
  --color-dark-gray: #494949;
  --color-light-gray: #999999;

  --color_primary: var(--color-green);

  --default_color: var(--color_dark-gray);
  --default_font-size: 16px;
  --root_font-size: 16px;
  --default_font-family: "Gotham", sans-serif;
  --submit__button_color: #ffffff;
  --submit__button_background-color: #b65916;
  --submit__button_font-size: 1.5rem;
  --submit__button_font-weight: 700;
  --button_background-color: #7f7266;
  --button_background-color_hover: #af6a18;
  --button_border-radius: 5px;
  --recurring-payment__button_background-color_checked: var(--color-green);
  --recurring-payment__button_border-color_checked: var(--color-green);
  --donation-amount__button_background-color_checked: var(--color-green);
  --donation-amount__button_border-color_checked: var(--color-green);
  --donation-amount__button_background-color_hover: var(--color-green);
  --donation-amount__button_border-color_hover: var(--color-green);
  --recurring-frequency__button_background-color_checked: var(--color-green);
  --recurring-frequency__button_background-color_hover: var(--color-green);
  --recurring-frequency__button_border-color_hover: var(--color-green);
  --recurring-frequency__button_border-color_checked: var(--color-green);
  --engrid__page_background-color: #ffffff;
  --pagebuilder__background-color: #ffffff;
  --donation-amount__button_count: 3;
  --engrid__body-headerOutside_background-color: #ffffff;
  --engrid__content-footer_background-color: #ffffff;

  --engrid__body_box-shadow: none;

  // TYPOGRAPHY DEFAULT
  // --default_font-family: var(--native-fonts__sans-serif);
  // --default_color: initial;
  // --default_font-size: var(--root_font-size);
  // --default_font-weight: initial;
  --default_line-height: 1.4;

  // TYPOGRAPHY H1
  --h1_font-family: var(--default_font-family);
  --h1_color: var(--default_color);
  --h1_font-size: 3.125rem;
  --h1_font-weight: 400;
  --h1_line-height: 1.1;

  // TYPOGRAPHY H2
  --h2_font-family: var(--default_font-family);
  --h2_color: var(--default_color);
  --h2_font-size: 1.375rem;
  --h2_font-weight: 400;
  --h2_line-height: 1.35;

  // TYPOGRAPHY H3
  --h3_font-family: var(--default_font-family);
  --h3_color: var(--default_color);
  --h3_font-size: 1.125rem;
  --h3_font-weight: 400;
  --h3_line-height: 1.55;

  // TYPOGRAPHY H4
  --h4_font-family: var(--default_font-family);
  --h4_color: var(--color-light-gray);
  --h4_font-size: 1rem;
  --h4_font-weight: 400;
  --h4_line-height: 1.75;

  // TYPOGRAPHY H5
  --h5_font-family: var(--default_font-family);
  --h5_color: var(--color-light-gray);
  --h5_font-size: 0.875rem;
  --h5_font-weight: 400;
  --h5_line-height: 1.42;
  --h5_text-transform: uppercase;

  // TYPOGRAPHY P
  // --p_font-family: var(--default_font-family);
  // --p_color: initial;
  // --p_font-size: var(--root_font-size);
  --p_font-weight: 300;
  // --p_line-height: initial;

  // TYPOGRAPHY A
  // --a_font-family: var(--default_font-family);
  --a_color: var(--color-green);
  --a_text-decoration: none;
  --a_text-decoration_hover: underline;

  // TYPOGRAPHY A:FOCUS
  // TYPOGRAPHY A:HOVER
  // --a_color_hover: var(--a_color);
  // --a_text-decoration_hover: initial;

  // TYPOGRAPHY INPUT
  // --input_font-family: var(--default_font-family);
  // --input_color: #000000;
  // --input_font-size: var(--root_font-size);
  // --input_font-weight: initial;
  // --input_line-height: initial;
  // --input_background-color: #fafafa;
  // --input_border-width: 1px;
  --input_border-color: var(--color_dark-gray);
  // --input_border-radius: 6px;
  // --input_placeholder-color: var(--color_light-gray);
  // --input_box-shadow: inset 0 2px 2px -1px rgba(74, 74, 104, 0.1);

  // TYPOGRAPHY INPUT:FOCUS
  // TYPOGRAPHY INPUT:HOVER
  // --input_color_hover: var(--input_color);
  // --input_background-color_hover: var(--input_background-color);
  // --input_border-color_hover: #767677;
  // --input_border-bottom-color_hover: var(--input_border-color_hover);
  // --input_box-shadow_hover: --input_box-shadow;

  // TYPOGRAPHY BUTTON
  // --button_font-family: var(--default_font-family);
  // --button_color: var(--color_white);
  // --button_font-size: var(--root_font-size);
  // --button_font-weight: initial;
  // --button_line-height: initial;
  // --button_background-color: #535b61;
  // --button_border-width: 1px;
  // --button_border-color: var(--color_black);
  // --button_border-radius: 6px;

  // TYPOGRAPHY BUTTON:HOVER
  // --button_color_hover: var(--button_color);
  // --button_background-color_hover: var(--color_black);
  // --button_border-color_hover: var(--button_background-color_hover);

  // TYPOGRAPHY BUTTON:SELECTED
  // --button_color_checked: var(--button_color_hover);
  // --button_background-color_checked: var(--button_background-color_hover);
  // --button_border-color_checked: var(--button_border-color_hover);

  // DONATION PAGE
  // --give-monthly-donation-amount-appended-label: "/mo";
  // --give-annual-donation-amount-appended-label: "/yr";
  // --recurring-frequency__button_count: 3;
  &[data-engrid-visible-frequency="4"] {
    --recurring-frequency__button_count: 4;
  }
  &[data-engrid-visible-frequency="3"] {
    --recurring-frequency__button_count: 3;
  }
  &[data-engrid-visible-frequency="2"] {
    --recurring-frequency__button_count: 2;
  }
  &[data-engrid-visible-frequency="1"] {
    --recurring-frequency__button_count: 1;
  }

  // --donation-amount__button_count: 4;
  --give-by-select__button_count: 3;
  --give-by-select__button_background-color: #f5f5f5;
  --give-by-select__button_background-color_hover: var(--color-green);
  --give-by-select__button_background-color_checked: var(--color-green);
  --give-by-select__button_border-color_hover: var(--color-green);
  --give-by-select__button_border-color_checked: var(--color-green);
  --give-by-select__button_border-color: var(--color_dark-gray);
  --give-by-select__button_color: var(--color_dark-gray);
  --give-by-select__button_font-size: 1rem;
  --give-by-select__button_font-weight: 400;

  // Exit Intent
  --exit-intent__container_box-shadow: 0 2px 4px #06734e;
  --exit-intent__container_outline: 5px solid #06734e;
  --exit-intent__button_font-size: 1.3rem;
  --exit-intent__button_padding: var(--button_padding);
  --exit-intent__button_padding-bottom: var(--submit__button_padding-bottom);
  --exit-intent__button_padding-top: var(--submit__button_padding-top);
  --exit-intent__button_background-color: var(
    --submit__button_background-color
  );
  --exit-intent__button_color: var(--submit__button_color);
  --exit-intent__button_border-radius: var(--button_border-radius);
  --exit-intent__button_border-color: var(--button_border-color);
  --exit-intent__button_border-width: var(--button_border-width);

  --radio_border-color: #545454;
  --checkbox_border-color: #545454;

  --premium__image_max-height: 100px;
  --maximize_my_donation_image: url(https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10104/premium-image.jpeg?v=1731096250000);

  --checkbox_color_checked: #ffffff;

  --engrid__content-footer_padding: var(--engrid__body-main_padding);
}

/* Add your custom theme styles here */
[data-engrid-theme="npca"] {
  // Exit Intent Lightbox
  .ExitIntent {
    --exit-intent__container_width: 500px;
  }

  @media (min-width: 768px) {
    .ExitIntent {
      --exit-intent__container_padding: 50px;
      --exit-intent__container_scale: 1.2;
    }
  }

  /* Hide NPCA unused sections */
  &#en__pagebuilder .page-alert,
  &#en__pagebuilder .content-header,
  &#en__pagebuilder .body-header,
  &#en__pagebuilder .body-banner,
  &#en__pagebuilder .body-bannerOverlay,
  &#en__pagebuilder .body-bottom,
  &#en__pagebuilder .body-footerOutside,
  &#en__pagebuilder .content-footerSpacer,
  &#en__pagebuilder .content-preFooter,
  &#en__pagebuilder .page-backgroundImageOverlay {
    display: none !important;
  }

  .content-footer {
    grid-column: bc;
    z-index: 3 !important;
  }

  .monthly-donation-suggestion {
    display: flex;
    justify-content: center;
    position: relative;
    z-index: 999;
    width: 100%;
    text-align: center;
    padding: 0;
    p {
      position: relative;
      font-size: 16px;
      font-weight: 600;
      color: #00704a;
      font-style: italic;
      text-align: left;
      width: 90%;
      margin: 0;
    }
    &.desktop-hide {
      p {
        text-align: center;
      }
    }
    &.mobile-hide {
      justify-content: flex-end;
      p {
        width: 320px;
        padding-right: 45px;
        &::after {
          content: url('data:image/svg+xml,<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="%2300704a"><path d="M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"></path></svg>');
          width: 40px;
          fill: #00704a;
          position: absolute;
          bottom: -20px;
          right: 10px;
          transform: scaleX(1) rotate(90deg);
          margin-left: 8px;
          margin-bottom: 0;
        }
        &::before {
          content: url('data:image/svg+xml,<svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" fill="%23FFFFFF"><path d="M307 34.8c-11.5 5.1-19 16.6-19 29.2v64H176C78.8 128 0 206.8 0 304C0 417.3 81.5 467.9 100.2 478.1c2.5 1.4 5.3 1.9 8.1 1.9c10.9 0 19.7-8.9 19.7-19.7c0-7.5-4.3-14.4-9.8-19.5C108.8 431.9 96 414.4 96 384c0-53 43-96 96-96h96v64c0 12.6 7.4 24.1 19 29.2s25 3 34.4-5.4l160-144c6.7-6.1 10.6-14.7 10.6-23.8s-3.8-17.7-10.6-23.8l-160-144c-9.4-8.5-22.9-10.6-34.4-5.4z"></path></svg>');
          width: 52px;
          fill: #fff;
          position: absolute;
          bottom: -25px;
          right: 5px;
          transform: scaleX(1) rotate(90deg);
          margin-left: 8px;
        }
      }
    }
  }
  &[data-engrid-visible-frequency="3"] {
    .monthly-donation-suggestion.mobile-hide {
      p {
        padding-right: 0;
        padding-left: 50px;
        text-align: left;
        width: 100%;
        margin-left: calc(50% - 80px);
        &::after {
          right: auto;
          left: -10px;
          transform: scaleX(-1) rotate(90deg);
        }
        &::before {
          right: auto;
          left: -15px;
          transform: scaleX(-1) rotate(90deg);
        }
      }
    }
  }

  // FREQUENCY STYLES
  .radio-to-buttons_recurrfreq
    .en__field--recurrfreq.en__field--radio
    .en__field__item
    input[type="radio"]
    + label {
    white-space: nowrap;
  }

  // GIVE BY SELECT STYLES
  .give-by-select {
    @media screen and (max-width: 600px) {
      --give-by-select__button_count: 1;
    }
  }
  &[data-engrid-transaction-recurring="n"] {
    .give-by-select.en__field__item:not(.hide):not(.recurring-frequency-n-hide):nth-child(even).ach {
      flex-basis: 100%;
    }
  }
  &[data-engrid-transaction-recurring="y"] {
    .give-by-select.en__field__item:not(.hide):not(.recurring-frequency-y-hide):nth-child(even).ach {
      flex-basis: 100%;
    }
  }
  &[data-engrid-payment-type-option-apple-pay="false"][data-engrid-payment-type-option-google-pay="false"][data-engrid-transaction-recurring="n"] {
    .give-by-select.en__field__item:not(.hide):nth-child(even).ach {
      flex-basis: 50%;
    }
  }

  .give-by-select .en__field__element--radio {
    align-items: stretch;
  }

  .give-by-select input[type="radio"] + label {
    padding: 12px 22px;
    height: 65px;
    max-height: 65px;
  }

  .give-by-select .en__field__label img {
    width: auto;
    height: auto;
    max-height: 70%;
    &.paypal-venmo {
      max-height: 50%;
    }
  }
  .give-by-select .en__field__item:has(:checked) img:not(.credit-card-logos) {
    filter: brightness(0) invert(1);
  }

  .give-by-select .venmo label > img:last-of-type {
    height: 20px;
    margin-top: 5px;
  }

  // Transaction fee custom styling with tooltip
  .transaction-fee-opt-in {
    --checkbox_background-color: var(--engrid__body_background-color);
    --checkbox_background-color_hover: var(--engrid__body_background-color);
    --checkbox_background-color_checked: #045237;
    --checkbox_font-weight: 700;
    --checkbox_font-size: 16px;
    --checkbox_line-height: 1.3;

    // max-width: 450px;
    width: 100%;
    justify-self: center;
    margin-top: 10px;

    .en__field__element--checkbox {
      flex-wrap: nowrap;
      gap: 1rem;
    }

    .transaction-fee-tooltip {
      border-radius: 50%;
      border: 2px solid #000;
      height: 26px;
      width: 26px;
      text-align: center;
      cursor: pointer;
      font-weight: 400;
      flex: 0 0 auto;
      font-size: 16px;
    }

    .en__field__input--checkbox:focus + .en__field__label {
      outline: none;
    }

    .en__field__item {
      padding: 0 !important;
    }
  }

  .tippy-box[data-theme~="white"] {
    background-color: #f5f5f5;
    color: #000;
    padding: 10px;
    font-size: 16px;
    font-weight: 400;
    max-width: 300px !important;
    border-radius: 0;
    border: 2px solid #7f7266;

    .tippy-content {
      padding: 0;
    }

    .custom-tooltip-arrow {
      background: #f5f5f5;
      border-bottom: 2px solid #7f7266;
      border-right: 2px solid #7f7266;
      height: 20px;
      width: 20px;
    }

    &[data-placement="top"] {
      .tippy-svg-arrow {
        bottom: -10px;
      }
      .custom-tooltip-arrow {
        transform: rotate(45deg) translateY(2px);
      }
    }

    &[data-placement="bottom"] {
      .tippy-svg-arrow {
        top: -10px;
      }
      .custom-tooltip-arrow {
        transform: rotate(-135deg) translateY(2px);
      }
    }
  }
  /* OTHER AMOUNT FIELD */
  .radio-to-buttons_donationAmt
    .en__field--donationAmt
    .en__field__item.en__field__item--other {
    position: relative;

    input:focus {
      outline: none;
    }

    &:before {
      content: attr(data-currency-symbol);
      position: absolute;
      left: 20px;
      top: 46%;
      line-height: 0;
      font-size: 1em;
    }

    input {
      padding-left: 30px;
      line-height: var(--donation-amount__button_line-height);
    }
  }
  .en__field--withOther--active .en__field__item--other:before {
    color: #fff;
  }
  // PREMIUM STYLES
  .en__component--premiumgiftblock {
    --h2_font-size: 22px;

    border-left: 0;
    border-right: 0;
    border-bottom: 0;
    margin-bottom: 0;

    // [data-engrid-premium-gift-maximize="true"]
    .en__pgList {
      --h2_font-size: 20px;
      --h2_font-weight: 400;
      @media screen and (max-width: 600px) {
        --h2_font-size: 18px;
      }
    }

    .en__pgList {
      margin-bottom: 0.75rem;
    }

    .en__pg__display,
    .en__pg__images {
      border-radius: var(--button_border-radius);
      overflow: hidden;
      min-height: 80px;
      display: flex;
      justify-content: center;
      align-items: center;
      img {
        margin: 0;
        mix-blend-mode: multiply;
      }
    }

    .en__pg__name {
      margin-bottom: 0px;
    }

    .en__pg__description {
      --p_font-size: 16px;
      --p_line-height: 1.4;
      max-width: 238px;
    }

    // Styles the Maximize my gift option
    // @TODO: See if there is a way to apply this only when there is a maximize my gift option.
    [data-nogift] .en__pg:last-child .en__pg__description {
      font-size: 20px;
      line-height: 1.4;
      font-weight: var(--h2_font-weight);

      &:after {
        font-size: 16px;
        line-height: 1.4;
      }
      @media screen and (max-width: 600px) {
        font-size: 18px;
      }
    }
  }
  .en__pgList {
    --radio_height: 20px;
    --radio_width: 20px;
    --radio_box-shadow_selected: inset 0 0 0 3px #ffffff;
    --radio_border-width: 1px;

    // When the no gift option is present, move it from the last premium option to being the first premium option
    &[data-nogift] {
      display: grid;

      .en__pg:last-child {
        grid-row: 1 / 2;

        .en__pg__display {
          background-image: var(--maximize_my_donation_image);
          // background-image: url("https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10114/donation-gift_maximize-my-gift-placeholder.jpg?v=1680364148000");
          background-size: contain;
          // min-width: 100%; // Causing this overlay issue on Safari https://cln.sh/mGf3gcGc
          background-position: center;
          background-repeat: no-repeat;
          background-color: #3e3938;
          border-radius: var(--button_border-radius);

          @media screen and (max-width: 628px) {
            background-position: left center;
          }
        }
      }
    }
    .en__pg {
      border: var(--donation-amount__button_border-width) solid transparent;
      overflow: hidden;
      &:hover {
        --premium__item_background-color: var(
          --give-by-select__button_background-color
        );
      }
    }

    .en__pg--selected {
      --premium__item_background-color: var(
        --give-by-select__button_background-color
      );
      border: var(--donation-amount__button_border-width) solid
        var(--donation-amount__button_border-color);
      border-radius: var(--donation-amount__button_border-radius);
    }

    .en__pg__body {
      grid-template-areas: "en__pg__select en__pg__display en__pg__detail" ". en__pg__detail-mobile .";
      grid-template-columns: min-content var(--premium__image_max-width) auto;
      gap: 0 max(calc(var(--fields_spacing-inline) * 2), 0.5rem);
      padding: calc(var(--fields_spacing-block))
        calc(var(--fields_spacing-inline) * 2);
      .en__pg__select {
        display: none;
      }
      .en__pg__image:hover {
        transform: none;
        margin: 0 !important;
        position: relative;
      }
    }

    // Move premium images on mobile
    @media screen and (max-width: $centercenter1col_body-column_max-width) {
      .en__pg__description {
        --p_font-size: 12px;
        --p_line-height: 18px;
      }
      .en__pg__display {
        grid-area: en__pg__display;

        .en__pg__images img {
          min-width: auto;
        }
      }

      // Hide unselected premium images on mobile
      .en__pg {
        .en__pg__body {
          padding: 5px;
          --premium__image_max-width: 65px;
          grid-template-columns: min-content var(--premium__image_max-width) auto;
        }
      }
    }

    .en__pg__detail {
      margin-bottom: 4px;
    }

    .en__pg__optionType select {
      --select_padding: 1.2ch 1.6ch;
      --select_font-size: 16px;
      --select_line-height: 24px;
      margin-top: calc(var(--fields_spacing-inline) * 0.5);
    }
  }

  /* Fixes error messages getting cut off */
  /* Screenshot: https://cln.sh/TMt6jqym */
  .en__errorHeader,
  .en__errorList {
    z-index: 1;
    position: inherit;
  }

  input[type="checkbox"] + label:before {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial,
      sans-serif;
  }

  input[type="checkbox"]:focus + label:before,
  input[type="checkbox"]:hover + label:before {
    background-color: #fafafa;
    color: #ababab;
    content: var(--checkbox_content_checked);
  }

  input.en__field__input:checked + label:before {
    background-color: #045237;
    color: #ffffff;
  }

  @media screen and (max-width: 880px) {
    &:not(#en__pagebuilder)
      .click-to-expand
      .click-to-expand-text-wrapper
      > :first-child {
      margin-block-start: 1em;
    }
  }

  --click-to-expand__copy-area_height: 193px;
  --click-to-expand__cta-image_height: 22px;
  --click-to-expand__cta-image_width: 100%;

  &:not(#en__pagebuilder) .click-to-expand:not(.expanded) {
    margin-bottom: 1em;

    .click-to-expand-cta {
      background: none !important;
      right: auto !important;
      padding-bottom: 1em;
      // width: 100% !important;
      // height: 20px !important;

      &:before {
        content: var(--click-to-expand__cta-image_url);
        position: absolute;
        transform: rotate(-90deg);
        left: 3px;
      }

      &:after {
        content: "Read More";
        position: relative;
        left: 20px;
        font-weight: 400;
        top: 2px;
      }
    }

    .click-to-expand-text-wrapper {
      mask-image: linear-gradient(
        to bottom,
        #000 50%,
        #fff0 calc(100% - var(--click-to-expand__cta-image_height) - 13px)
      );
    }
  }

  .click-to-expand.expanded .click-to-expand-text-wrapper > *:last-child {
    margin-bottom: 0;
  }

  .en__component--formblock.green .en__submit button {
    --submit__button_background-color: #045237;
    --submit__button_background-color_hover: #06734e;
    --submit__button_border-color_hover: var(
      --submit__button_background-color_hover
    );
  }

  @mixin until-mobile-l {
    // STYLES
    .en__component--premiumgiftblock .en__pg__description {
      max-width: 100%;
    }
    &:not(#en__pagebuilder) {
      .mobile-hide {
        display: none !important;
      }
      .monthly-donation-suggestion {
        margin-top: -5px;
      }
    }

    &[data-engrid-visible-frequency="3"] {
      --recurring-frequency__button_count: 1;
    }
    --h1_font-size: 2rem;
  }

  @mixin from-mobile-l {
    // STYLES
    &:not(#en__pagebuilder) {
      .desktop-hide {
        display: none !important;
      }
    }
  }

  @mixin simplified-header {
    // STLES
  }

  // Example Breakpoints Stylings (See engrid-scripts > _engrid-breakpoints.scss for more breakpoints)
  &[data-engrid-layout] {
    @media (max-width: 530px) {
      @include until-mobile-l;
    }

    @media (min-width: 531px) {
      @include from-mobile-l;
    }
  }

  // Example of Shared Layout Stylings
  &[data-engrid-layout="centerleft1col"] {
    @media screen and (max-width: $centerleft1col_content-column_min-width) {
      @include simplified-header;
    }
  }

  &[data-engrid-layout="centerright1col"] {
    @media screen and (max-width: $centerright1col_content-column_min-width) {
      @include simplified-header;
    }
  }
  #en__pagebuilder,
  &[data-engrid-debug],
  #en__pagebuilder {
    .mobile-hide,
    .desktop-hide {
      background-color: #0000ff1a !important;
    }
  }

  .tippy-box[data-theme~="NPCA"] {
    background-color: var(--engrid__body_background-color);
    color: #000;
    padding: 15px;
    font-size: 18px;
    font-weight: 400;
    max-width: 400px !important;
    border-radius: 0;

    .tippy-content {
      padding: 0;
    }

    &[data-placement^="top"] > .tippy-arrow::before {
      border-top-color: var(--engrid__body_background-color);
    }

    &[data-placement^="bottom"] > .tippy-arrow::before {
      border-bottom-color: var(--engrid__body_background-color);
    }

    &[data-placement^="left"] > .tippy-arrow::before {
      border-left-color: var(--engrid__body_background-color);
    }

    &[data-placement^="right"] > .tippy-arrow::before {
      border-right-color: var(--engrid__body_background-color);
    }

    &[data-placement^="left"] > .tippy-arrow {
      bottom: -15px;
      right: -8px;
      top: auto !important;
      transform: rotate(-90deg) !important;
    }

    p {
      margin: 10px 0;
    }

    p:first-of-type {
      margin-top: 0;
    }

    p:last-of-type {
      margin-bottom: 0;
    }
  }

  &:not(#en__pagebuilder) .page-backgroundImage {
    z-index: auto;
  }

  @media screen and (min-width: 880px) {
    &:not(#en__pagebuilder)[data-engrid-layout="leftleft1col"] {
      .page-backgroundImage {
        grid-column: rpc/pc;

        &:before,
        figure.media-with-attribution {
          left: $one_col_body-column_max-width;
          right: 0;
          width: calc(100% - $one_col_body-column_max-width);
          background-position: center !important;
        }
      }
    }

    &:not(#en__pagebuilder)[data-engrid-layout="rightright1col"] {
      .page-backgroundImage {
        grid-column: pc/lpc;

        &:before,
        figure.media-with-attribution {
          left: 0;
          right: $one_col_body-column_max-width;
          width: calc(100% - $one_col_body-column_max-width);
          background-position: center !important;
        }
      }
    }
  }

  @media screen and (max-width: 880px) {
    --recurring-frequency__button_padding: 12px 10px;
    &[data-replace-banner-with-background="if-banner-empty"][data-engrid-body-banner="empty"][data-engrid-page-background="image"]
      [class*="page-backgroundImage"]
      figure {
      // align-items: center;
      // aspect-ratio: auto;
      // display: flex;
      position: relative !important;

      figattribution + div[data-tippy-root] {
        max-width: calc(-62px + 100vw);
      }
    }
  }

  // &[data-replace-banner-with-background=if-banner-empty][data-engrid-body-banner=empty][data-engrid-page-background=image] {[class*=page-backgroundImage] {
  //     figure {
  //       // Change from absolute positioning so that it will have height
  //       position: relative !important;
  //       // background-image: none;
  //       max-height: var(--banner-image-height, 250px);
  //       display: flex;
  //       align-items: center;
  //       aspect-ratio: initial;
  //     }

  //     figattribution {
  //       top: 0;
  //       bottom: auto;
  //       display: none;
  //     }
  //   }
  // }

  &[data-engrid-page-background="image"]
    .page-backgroundImage
    figure.media-with-attribution {
    figattribution {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      justify-content: center;
      align-items: center;
      --media-attribution__background-color: #ffffff;
      --media-attribution__color: #ffffff;
      --media-attribution__font-family: serif;
      --media-attribution__font-size: 16px;
      --media-attribution__padding: 0;
      line-height: 16px;

      &:before {
        content: "";
        background-image: url("https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10104/media-attribution.png");
        background-size: 5px 12px;
        background-repeat: no-repeat;
        background-position: center;
        position: absolute;
        height: 100%;
        width: 100%;
        left: -1px;
      }
    }
  }
  &[data-engrid-payment-type-option-apple-pay="true"]
    #en__digitalWallet__stripeButtons__container
    .__PrivateStripeElement {
    -webkit-appearance: -apple-pay-button;
    -apple-pay-button-type: donate;
    -apple-pay-button-style: black;
    width: 100% !important;
    height: 50px !important;
    iframe {
      width: 100% !important;
      height: 50px !important;
      opacity: 0;
    }
  }
  .upsell-message {
    margin-bottom: 11px;
    padding-left: 0;
    padding-right: 0;
    color: #545454;
    display: flex;
    justify-content: center;

    > p {
      font-size: 16px;
      margin: 0;
      font-weight: bold;
      display: flex;
      align-items: center;
      strong {
        font-weight: 600;
        color: #333;
      }
    }

    .recurring-frequency-y-hide {
      @media screen and (max-width: 600px) {
        flex-wrap: wrap;
        flex-direction: column-reverse;
      }
      &::after {
        // Curved arrow pointing up
        aspect-ratio: 512 / 466;
        background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' shape-rendering='geometricPrecision' text-rendering='geometricPrecision' image-rendering='optimizeQuality' fill-rule='evenodd' clip-rule='evenodd' viewBox='0 0 512 466.034'%3E%3Cpath d='M407.944 76.07c-10.427 14.04-21.175 28.936-25.608 36.762-11.17 19.56-38.573 22.838-39.743 14.409-.464-3.338 5.327-14.433 12.987-27.255 17.661-29.563 47.32-74.933 76.335-93.534C438.511 2.224 445-.346 450.804.038c4.445.293 7.708 2.788 9.367 8.266 15.214 39.597 31.854 74.427 50.414 102.835 1.346 2.421 1.695 4.619 1.203 6.631-1.64 6.713-15.648 12.587-21.59 14.458-8.554 2.694-13.591 1.685-18.339-5.18-9.347-13.517-16.23-29.002-22.912-44.55-7.208 111.916-54.801 204.034-126.755 269.945-79.605 72.921-188.991 113.678-306.386 113.59-6.723-.004-10.497-.577-13.313-4.081-2.543-3.164-2.712-7.142-2.349-14.119.564-10.815 2.624-16.829 9.196-20.81 5.621-3.403 13.818-4.254 27.424-5.081 4.014-.244 8.023-.617 12.038-.884 98.579-6.551 189.551-45.369 255.347-110.108 59.538-58.58 98.481-138.446 103.795-234.88z' fill='%2306734e'/%3E%3C/svg%3E");
        box-sizing: border-box;
        color: #06734e;
        content: "";
        display: inline-block;
        margin-left: 7px;
        position: relative;
        width: 25px;
        top: -10px;
        height: 23px;
        @media screen and (max-width: 600px) {
          margin-left: 70px;
        }
      }
    }
  }

  // Add a Mountain Icon to the Monthly Donation Button
  .radio-to-buttons_recurrfreq
    .en__field--recurrfreq.en__field--radio
    input[type="radio"][value="MONTHLY"]
    + label:before,
  .radio-to-buttons_recurrfreq
    .en__field--recurrfreq.en__field--radio
    input[type="radio"][value="ANNUAL"]
    + label:before {
    display: block;
    min-width: 0;
    height: auto;
    content: ".";
    color: transparent;
    width: 20px;
    // background-image: url("https://acb0a5d73b67fccd4bbe-c2d8138f0ea10a18dd4c43ec3aa4240a.ssl.cf5.rackcdn.com/10114/donation-icon_monthly-heart-faded.png?v=1680364166000");
    // background-image: url('data:image/svg+xml,<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.4601 29.6062C14.7301 26.8962 21.7501 28.4162 22.4701 26.1662C23.1901 23.9162 20.6101 21.8762 20.6101 21.8762C20.6101 21.8762 19.6701 19.1862 16.9301 15.1362C14.1901 11.0862 12.3201 4.91622 12.3201 4.91622C12.0701 4.44622 11.6701 4.44622 11.4201 4.91622C11.4201 4.91622 9.90015 7.43622 8.22015 11.0962C7.28015 13.1462 8.04015 15.8662 6.56015 17.6962C4.91015 19.7262 3.13015 25.6162 1.99015 27.4262C0.850149 29.2362 -0.359851 33.4462 0.100149 34.7162C0.360149 35.4362 1.37015 35.4362 1.37015 35.4362H14.8102C14.8102 35.4362 10.1902 32.3262 12.4701 29.6062H12.4601Z" fill="%2300714A"/><path d="M27.9501 29.9863C27.9501 32.0263 23.7001 34.9863 31.3001 35.4363H38.8801C38.8801 35.4363 40.2501 35.4363 39.9601 34.1363C39.7401 33.1463 38.1101 27.6763 35.4801 24.4363C32.8501 21.1963 32.1801 17.8663 30.4801 15.8863C28.7801 13.9063 28.4001 12.1263 28.4001 12.1263C28.1501 11.6763 27.7501 11.6763 27.5001 12.1263C27.5001 12.1263 25.5601 14.2963 25.0501 16.5463C24.5401 18.7963 22.7601 22.4663 22.7601 22.4663C22.7601 22.4663 27.9401 25.6963 27.9401 29.9863H27.9501Z" fill="%2300714A"/></svg>');
    background-image: url('data:image/svg+xml,<svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.4601 29.6062C14.7301 26.8962 21.7501 28.4162 22.4701 26.1662C23.1901 23.9162 20.6101 21.8762 20.6101 21.8762C20.6101 21.8762 19.6701 19.1862 16.9301 15.1362C14.1901 11.0862 12.3201 4.91622 12.3201 4.91622C12.0701 4.44622 11.6701 4.44622 11.4201 4.91622C11.4201 4.91622 9.90015 7.43622 8.22015 11.0962C7.28015 13.1462 8.04015 15.8662 6.56015 17.6962C4.91015 19.7262 3.13015 25.6162 1.99015 27.4262C0.850149 29.2362 -0.359851 33.4462 0.100149 34.7162C0.360149 35.4362 1.37015 35.4362 1.37015 35.4362H14.8102C14.8102 35.4362 10.1902 32.3262 12.4701 29.6062H12.4601Z" fill="%23FFFFFF"/><path d="M27.9501 29.9863C27.9501 32.0263 23.7001 34.9863 31.3001 35.4363H38.8801C38.8801 35.4363 40.2501 35.4363 39.9601 34.1363C39.7401 33.1463 38.1101 27.6763 35.4801 24.4363C32.8501 21.1963 32.1801 17.8663 30.4801 15.8863C28.7801 13.9063 28.4001 12.1263 28.4001 12.1263C28.1501 11.6763 27.7501 11.6763 27.5001 12.1263C27.5001 12.1263 25.5601 14.2963 25.0501 16.5463C24.5401 18.7963 22.7601 22.4663 22.7601 22.4663C22.7601 22.4663 27.9401 25.6963 27.9401 29.9863H27.9501Z" fill="%23FFFFFF"/></svg>');
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    margin-right: 0.5rem;
    border: none;
    border-radius: 0;
    box-shadow: none;
    background-color: transparent;
    transition: transform 0.2s;
    @media screen and (max-width: 400px) {
      margin-right: 3px;
      width: 15px;
    }
  }
  // Checked AND HOVER states for the Mountain Icon
  .radio-to-buttons_recurrfreq
    .en__field--recurrfreq.en__field--radio
    input[type="radio"][value="MONTHLY"]
    + label:hover:before,
  .radio-to-buttons_recurrfreq
    .en__field--recurrfreq.en__field--radio
    input[type="radio"][value="ANNUAL"]
    + label:hover:before,
  .radio-to-buttons_recurrfreq
    .en__field--recurrfreq.en__field--radio
    input[type="radio"][value="MONTHLY"]:checked
    + label:before,
  .radio-to-buttons_recurrfreq
    .en__field--recurrfreq.en__field--radio
    input[type="radio"][value="ANNUAL"]:checked
    + label:before {
    transform: scale(1.4);
  }
}

/* CH overrides because Gotham's custom font is not working */
[data-engrid-theme="npca"] {
  --default_font-family: "Gotham SSm A", "Gotham SSm B", sans-serif !important;
}

[data-engrid-theme] {
  --input_padding: 11.4375px 13.725px !important;
  --select_padding-right: 27.45px !important;
  --button_padding: 11.4375px 13.725px !important;
  --submit__button_padding-top: 17.156px !important;
  --submit__button_padding-bottom: 17.156px !important;

  select,
  select.en__field__input--select,
  select.en__field__input--splitselect,
  select.en__field__input--tripleselect {
    background-position: calc(100% + 13.725px + 0.1875rem);
  }
}

[data-engrid-transaction-recurring-frequency]
  .radio-to-buttons_donationAmt
  .en__field--donationAmt
  div:not(.en__field__item--other)
  .en__field__label--item:after {
  margin-left: 2.859375px !important;
}

button.en__ecarditems__prevclose {
  padding: 4.003125px !important;
}

@media screen and (max-width: 600px) {
  [data-engrid-theme="npca"] {
    --media-attribution__margin: 14.296875px 17.15625px !important;
    --media-attribution__padding: 14.296875px 17.15625px !important;
  }

  .en__ticket {
    gap: 11.4375px !important;
  }

  .en__additional {
    gap: 11.4375px !important;
  }

  .en__additional__promo:before {
    margin-bottom: 11.4375px !important;
  }
}

[data-engrid-theme="flex2"][data-highlight-required-fields]
  .en__mandatory
  > label:after {
  margin-left: 2.859375px !important;
}

[data-engrid-theme="npca"] .en__pgList .en__pg__optionType select {
  --select_padding: 13.725px 18.3px !important;
}
